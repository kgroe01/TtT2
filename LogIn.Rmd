---
title: "Login"
author: "Katelyn Groe"
date: "2025-01-21"
output:
  html_document:
    css: style.css
    theme: null
    toc: false
    includes:
      in_header: Friv.html
---

<nav>
  <a href="index.html">Home</a>
  <a href="contact.html">Contact</a>
</nav>

# Log in Page

I am 80% sure that I could figure out how to have each teacher have a username and password.  

That way only the teachers that have gone through the training will have access to the material.

Once they log in, they will be automatically brought to [this page.](Modules.html)

<!-- Load Firebase SDK (Use Correct Scripts) -->
<script src="https://www.gstatic.com/firebasejs/10.0.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.0.0/firebase-auth.js"></script>

<script>
  document.addEventListener("DOMContentLoaded", function() {
      // ✅ Use Hardcoded Firebase Config (Replace with Your Own Values)
      const firebaseConfig = {
          const apiKey = "YOUR_API_KEY";  // Use the actual key or fetch it from Firebase Hosting Config
          authDomain: "chsttt2025.firebaseapp.com",
          projectId: "chsttt2025",
          storageBucket: "chsttt2025.appspot.com",
          messagingSenderId: "443341451267",
          appId: "1:443341451267:web:bd5e27ed4f36e2a632de36"
      };

      // ✅ Ensure Firebase is Initialized
      if (!firebase.apps.length) {
          firebase.initializeApp(firebaseConfig);
      }

      window.auth = firebase.auth(); // ✅ Make Firebase Auth Globally Accessible

      console.log("Firebase Initialized Successfully!");
  });
</script>

<h2>Login</h2>
<input type="email" id="email" placeholder="Enter email">
<input type="password" id="password" placeholder="Enter password">
<button onclick="login()">Login</button>

<script>
    function login() {
        console.log("Login button clicked");

        const email = document.getElementById("email").value;
        const password = document.getElementById("password").value;

        if (!window.auth) {
            console.error("Firebase Auth is not initialized!");
            return;
        }

        window.auth.signInWithEmailAndPassword(email, password)
            .then((userCredential) => {
                const user = userCredential.user;
                alert("Login successful!");
                console.log("Logged in as:", user.email);

                // ✅ Redirect users based on email
                if (user.email === "kgroe@iastate.edu") {
                    window.location.href = "Modules.html";
                } else {
                    window.location.href = "index.html"; // Default page
                }
            })
            .catch((error) => {
                alert("Error: " + error.message);
                console.error("Login error:", error);
            });
    }
</script>
